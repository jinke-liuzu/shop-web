<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <div th:include="index :: header" ></div>

    <link rel="stylesheet" href="../style.css">
    <script src="../jquery.let_it_snow.js"></script>

    <style type="text/css">
        *{margin:0;padding:0;}
        body{font-size: 12px;font-family:"微软雅黑";color: #666;}

        .gradient-text-three{

            fill:url(#SVGID_1_);

            font-size:40px;

            font-weight:bolder;

        }


        .top{width: 100%; height: 85px;margin-top: 54px;}
        .top .t-header{width: 85%;height: 85px;margin: 0 auto;}
        .top .t-header .t-logo{float:left; margin-top:12px;}
        .top .t-header .t-desc{float:right;line-height:85px;font-size:24px;margin-left: -500px;}
        .banner{width:100%;height:160px;background:#ff0000;}
        .shop{width: 1700px; height: 600px; border:1px solid #dbf8ff;margin:30px auto; color: #2c28ff
        }

        #text {margin-top: 43px; width:700px; height:50px; margin-left: 541px;}
        #show{background:#ffffcc;width:1000px; height:300px; margin:21px auto; border:1px solid black; position:relative;}
        #show ul{position:absolute; right:30px; bottom:10px;  list-style:none;}
        #show ul li{float:left; width:20px; height:20px; margin-right:5px;}
        #show ul li a{display:block; width:20px; height:20px; background:#ff0033; text-align:center; text-decoration:none; color:white;}

        #show ul li a.active{background:yellow; border:1px solid #cc0033; color:#ff3366;}
    </style>



</head>

<body>
<canvas width="100%" height="100%" class="flare"></canvas>
<canvas width="100%" height="100%" class="snow"></canvas>
<canvas width="100%" height="100%" class="flake"></canvas>
<div th:fragment="navbar">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" >
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#example-navbar-collapse">
                <span class="sr-only">切换导航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">后台管理</a>
        </div>
        <div class="collapse navbar-collapse" id="example-navbar-collapse">
            <ul class="nav navbar-nav">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        会员 <b class="caret"></b>
                    </a>
            <ul class="dropdown-menu">
                <li><a href="../user/userlist">会员管理</a></li>
                <li class="divider"></li>
                <li><a href="../grade/gradelist">会员等级</a></li>
                <li class="divider"></li>
                <li><a href="#">会员注册项</a></li>
                <li class="divider"></li>
                <li><a href="#">积分管理</a></li>
                <li class="divider"></li>
                <li><a href="#">会员预存款</a></li>
                <li class="divider"></li>
                <li><a href="#">评论管理</a></li>
                <li class="divider"></li>
                <li><a href="#">资讯管理</a></li>
                <li class="divider"></li>
                <li><a href="#">消息配置</a></li>
                <!--
                <li class="divider"></li>
                <li><a href="#">分离的链接</a></li>
                <li class="divider"></li>
                <li><a href="#">另一个分离的链接</a></li>
                -->
            </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        商城 <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="../ldl/tocommodity">商品管理</a></li>
                        <li class="divider"></li>
                        <li><a href="../inventory/toInventory">库存管理</a></li>
                        <li class="divider"></li>
                        <li><a href="../ldl/toclassifyList">商品分类</a></li>
                        <li class="divider"></li>
                        <li><a href="../ldl/toLabel/">商品标签</a></li>
                        <li class="divider"></li>
                        <li><a href="#">商品参数</a></li>
                        <li class="divider"></li>
                        <li><a href="#">商品属性</a></li>
                        <li class="divider"></li>
                        <li><a href="#">规格管理</a></li>
                        <li class="divider"></li>
                        <li><a href="../ldl/findBrand">品牌管理</a></li>

                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-user"></span>${sessionScope.account}</a></li>
                <li><a onclick="logOutUser()"><span class="glyphicon glyphicon-log-in"></span >注销</a></li>
            </ul>
        </div>

    </div>
</nav>
</div>

<div class="top">
        <div class="t-header">
            <div class="t-logo">
                <a href="//www.jd.com/">
                    <img src="http://misc.360buyimg.com/lib/img/e/logo-201305-b.png" alt="京东" width="170" height="60" >
                </a>
            </div>

                <svg viewBoxs="0 0 500 85" class="svgBox" style="width: 408px; margin-right:-1200px;">
                    <defs>
                        <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="0" y1="10" x2="0" y2="50">
                            <stop  offset="0" style="stop-color:yellow"/>
                            <stop  offset="0.5" style="stop-color:#fd8403"/>
                            <stop  offset="1" style="stop-color:red"/>
                        </linearGradient>
                    </defs>
                <text text-anchor="middle" class="gradient-text-three" x="180px" y="30%">京东购物车支付系统</text>
                </svg>

        </div>

    <div>
        <hr color="#ff3300">
    </div>


    </div>

    <div id="text" class="input-group">
        <table>
            <tr>
                <td>
                    <input type="text" id="bookname" class="form-control" placeholder="商品名称" style="width:700px;height:50px">
                </td>

                <td>
                    <div style="margin-left: 40px;">
                        <button onclick="initTouTiao()" type="button" class="btn btn-info btn-lg"><span class="glyphicon glyphicon-search">&nbsp;搜索</span></button>
                    </div>
                </td>

                <td>
                <div style="margin-left: 230px;">
                    <button  type="button" class="btn btn-warning btn-lg glyphicon glyphicon-gift" onclick="window.location.href='/ldl/toche'">&nbsp;&nbsp;&nbsp;购物车</button>
                 <div>
                <td>
            </tr>
        </table>





    </div>

    <div class="banner"  id="show" >



        <div >
            <img id="pic" src="/image/1.jpg" width="1000" height="300"/>
        </div>
        <ul>
            <li><a href="/image/1.jpg" class="active">1</a></li>
            <li><a href="/image/2.jpg" >2</a></li>
            <li><a href="/image/3.jpg" >3</a></li>
            <li><a href="/image/4.jpg" >4</a></li>
            <li><a href="/image/5.jpg" >5</a></li>
        </ul>
    </div>
<!--内容-->
    <div class="shop" >
        <table class="table" id="myTable" background="/image/beijing.jpg"  style="background-size:100% 100%;background-repeat:no-repeat;"></table>
    </div>


</body>

<script type="text/javascript">
    $(function(){
        initcommodityTable();
    })

    //调查
    function initTouTiao(){
        var bookname=$("#bookname").val();
        $("#myTable").bootstrapTable('refresh',{
            query:{
                name:bookname
            }
        })
    }
    //查询
    function initcommodityTable(){
        $("#myTable").bootstrapTable({
            url:'/ldl/querycommodity',
            toolbar:'#toolbar',
            method: 'post',
            contentType: 'application/x-www-form-urlencoded',//posti求按照表单方式
            pagination:true,//是否展示分页
            showRefresh:true,
            pageNamber:1,//起始页
            pageSize:5,//每页条数
            pageList:[2,5,10,20],
            sidePagination:'server',//分页方式：client客户端分页，server服务端分页（*
            striped:false,//是否显示斑马线
            queryParams:function(){
                return {
                    page:this.pageNumber,
                    rows:this.pageSize
                };
            },
            columns:[
                {field:"abc",checkbox:true},
                {field:"number",title:"编号",width:100,formatter:function(value,row,index){
                        if(row.money==null || row.money=='' ||row.money=="-"){
                            return "<font color='#ff0000'>"+value+"<font>";
                        }else{
                            return "<font color='#00ff00'>"+value+"<font>";
                        }
                    }},
                {field:"name",title:"名称",width:150,formatter:function(value,row,index){
                        if(row.money==null || row.money=='' ||row.money=="-"){
                            return "<font color='#ff0000'>"+value+"<font>";
                        }else{
                            return "<font color='#00ff00'>"+value+"<font>";
                        }
                    }},
                {field:"datetime",title:"创建时间",width:150,width:150,formatter:function(value,row,index){
                        if(row.money==null || row.money=='' ||row.money=="-"){
                            return "<font color='#ff0000'>"+value+"<font>";
                        }else{
                            return "<font color='#00ff00'>"+value+"<font>";
                        }
                    }},
                {field:"state",title:"是否上架",width:50,formatter:function(value,row,index){
                        if(row.state==1){
                            return "<font color='#00ff00'size=\"+5\">√<font>";
                        }else{
                            return "<font color='#ff0000'size=\"+5\">×<font>";
                        }

                    }},
                {field:"goodsname",title:"商品分类",width:150},
                {field:"money",title:"商品价格",width:50},
                {field:"url",title:"路径",width:150},
                {field:"url",title:"操作",width:150,formatter:function(value,row,index){
                        var str = "<a href="+value+"><button class='btn btn-success glyphicon glyphicon-search'>查看</button></a>|";
                        if(row.money==null || row.money=='' ||row.money=="-"){
                            str+="<a href='javascript:qq("+row.id+")' class='btn btn-warning glyphicon glyphicon-remove-sign glyphicon-plus' role='button'>&nbsp;&nbsp;暂时无产品&nbsp;&nbsp;</a>";
                        }else{
                            str+="<a href='javascript:che("+row.id+")' class='btn btn-danger glyphicon  glyphicon-plus' role='button'>&nbsp;&nbsp;加入购物车&nbsp;&nbsp;</a>";

                        }

                        return str;
                    }}
            ]
        })
    }


    window.onload = function(){
        var showWeb=["https://pro.jd.com/mall/active/2NA7Sj1p3oiuCLQJadfaCrmUPwYn/index.html",
                    "https://pro.jd.com/mall/active/46xH2FEswob1Eibj3tJMTTfpJvA/index.html?extension_id=eyJhZCI6IiIsImNoIjoiIiwic2hvcCI6IiIsInNrdSI6IiIsInRzIjoiIiwidW5pcWlkIjoie1wiY2xpY2tfaWRcIjpcImMzNGU0N2VlLTRiNzYtNGY1ZS1hODY3LTUwMDBiODI1ZjQxNFwiLFwibWF0ZXJpYWxfaWRcIjpcIjY0MzA0Mzc0OVwiLFwicG9zX2lkXCI6XCIzNTAzXCIsXCJzaWRcIjpcIjUzMjU5MzAyLTc5YmQtNDg5Mi05ZjY1LWViODZjNTg4YmU3OVwifSJ9&jd_pop=c34e47ee-4b76-4f5e-a867-5000b825f414&abt=1",
                    "https://pro.jd.com/mall/active/2B81W44WiX5J16wNLp74NUd4fzNW/index.html?extension_id=eyJhZCI6IiIsImNoIjoiIiwic2hvcCI6IiIsInNrdSI6IiIsInRzIjoiIiwidW5pcWlkIjoie1wiY2xpY2tfaWRcIjpcIjIyZTk4ZDMzLThjZjktNDEyYi1hMzYyLTRiOGFhZGNkMmU1MVwiLFwibWF0ZXJpYWxfaWRcIjpcIjY0ODA5OTkyOFwiLFwicG9zX2lkXCI6XCIzNTA0XCIsXCJzaWRcIjpcIjc1ZDNmZmNjLThhZDgtNDc4OC1iMTA1LWEzNTNlZTdjOWIxYVwifSJ9&jd_pop=22e98d33-8cf9-412b-a362-4b8aadcd2e51&abt=1",
                    "https://pro.jd.com/mall/active/2DPCwovvaBUa7HciiQ2PHCvyECac/index.html?innerAnchor=3486678&focus=4",
                    "https://channel-m.jd.com/pc/psp/42598626940?imup=ChEKC2hseTUxMDAyMDAzEgAYABISCPzszdieARDFpSkaACDqXSgBGLEbIAAqFGltLHVmLHhnYSxnZCxjaWIsYmFjMgJpbTosCgpqaW5nemh1MDA4EKrmRBgCINzVvpDa9Ja1eCiu4NxKMK3g3Eo4E0CAgCA&extension_id=eyJhZCI6IjM1MDUiLCJjaCI6IjIiLCJzaG9wIjoiNjc2NTQ5IiwidHMiOiIxNTYzOTQ4MjM5IiwidW5pcWlkIjoie1wiY2xpY2tfaWRcIjpcImNjN2NmOWRmLWJhOTAtNGEzMC05NjZlLTI2ZDQzMTkyZjFlYlwiLFwibWF0ZXJpYWxfaWRcIjpcIjg2NzY4NDgzOTkwMjkzNDkwODRcIixcInBvc19pZFwiOlwiMzUwNVwiLFwic2lkXCI6XCJlMTZlODlkZC1lNjRjLTQ3NTUtODg5My1mYWIwZTFhYWE2MThcIn0ifQ==&jd_pop=cc7cf9df-ba90-4a30-966e-26d43192f1eb&abt=0"];
        var oDiv = document.getElementById("show");
        var oImg = document.getElementById("pic");
        var aA = oDiv.getElementsByTagName("a");
        var i=0;

        move();
        var id = setInterval(move,2000);
        function move(){
            if(i==5){
                i=0;
            }
            oImg.src = "/image/"+(i+1)+".jpg";
            for (var j=0; j<aA.length; j++)
            {
                aA[j].className = "";
            }
            aA[i].className = "active";
            i++;
        }

        oImg.onclick = function(){
            // alert(i);
            location.href = showWeb[i];
        }
        for (var j=0; j<aA.length; j++ )
        {
            aA[j].onmouseover = function(){
                clearInterval(id);
                var num = parseInt(this.innerHTML);
                oImg.src = "/image/"+ num +".jpg";
                for (var k=0; k<aA.length; k++)
                {
                    aA[k].className = "";
                }
                this.className = "active";
            }
            aA[j].onmouseout = function(){
                //	 console.log(i);
                i = parseInt(this.innerHTML);
                id = setInterval(move,2000);
            }
            aA[j].onclick = function(){
                return false;
            }
        }
    }

    //背景
    $(document).ready(function(){

        $("canvas.flare").let_it_snow({
            windPower: 29,
            speed: 0,
            color: "#a8f3ff",
            size:120,
            opacity: 0.00000001,
            count: 50,
            interaction: false
        });

        $("canvas.snow").let_it_snow({
            windPower: 3,
            speed: 1,
            count: 250,
            size: 1
        });

        $("canvas.flake").let_it_snow({
            windPower: -3,
            speed: 1,
            count: 20,
            size: 20,
            image: "../image/white.png"
        });

    });
    //暂无产品
    function qq(id) {
        bootbox.alert({
            size:'small',
            title:'(。・＿・。)ﾉI’m sorry~',
            message:'！！暂无产品信息，去别地look look！',
        })
    }
    //加入购物车
    function che(id) {
        $.ajax({
            url:'/ldl/joinche',
            type:'post',
            data:{id:id},
            success:function(data){
             if(data){
                 history.go(0);
             }else{
                 bootbox.alert({
                     size:'small',
                     title:'提示',
                     message:'加入购物车失败',
                 })
             }
            }

        })
    }
</script>

<script th:src="@{../main.js}"></script>

</html>